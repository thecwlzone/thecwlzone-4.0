<!DOCTYPE html><html lang="en" class="scheme-aurora"> <head><meta charset="utf-8"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="viewport" content="width=device-width"><link rel="canonical" href="https://www.thecwlzone.com/posts/lumo-as-ruby-developer/"><meta name="generator" content="Astro v5.15.1"><title>Lumo As Ruby Developer | The CWL Zone</title><meta name="title" content="Lumo As Ruby Developer | The CWL Zone"><meta name="description" content="A viable solution but..."><meta name="author" content="Lehman"><link rel="sitemap" href="/sitemap-index.xml"><link rel="alternate" type="application/rss+xml" title="Lumo As Ruby Developer" href="https://www.thecwlzone.com/feed.xml"><meta property="og:title" content="Lumo As Ruby Developer | The CWL Zone"><meta property="og:description" content="A viable solution but..."><meta property="og:url" content="https://www.thecwlzone.com/posts/lumo-as-ruby-developer/"><meta property="og:image" content="https://www.thecwlzone.com/posts/lumo-as-ruby-developer.png"><link rel="preload" as="font" type="font/woff2" href="/_astro/ibm-plex-sans-latin-400-normal.CDDApCn2.woff2" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff2" href="/_astro/ibm-plex-sans-latin-500-normal.6ng42L7E.woff2" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff2" href="/_astro/ibm-plex-sans-latin-600-normal.CuJfVYMP.woff2" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff2" href="/_astro/ibm-plex-sans-latin-700-normal.Bxkt5Cjx.woff2" crossorigin="anonymous"><meta property="article:published_time" content="2025-10-28T00:00:00.000Z"><script data-default-mode="dark">
  window.mode ??= (() => {
    const defaultMode = document.currentScript.getAttribute('data-default-mode')
    const storageKey = 'mode'
    const store =
      typeof localStorage !== 'undefined'
        ? localStorage
        : { getItem: () => null, setItem: () => {} }

    const mediaMatcher = window.matchMedia('(prefers-color-scheme: light)')

    mediaMatcher.addEventListener('change', () => {
      applyMode(mode.getMode())
    })

    function applyMode(mode) {
      document.documentElement.dataset.mode = mode
      document.documentElement.style.colorScheme = mode
    }

    function setMode(mode = defaultMode) {
      store.setItem(storageKey, mode)
      applyMode(mode)
    }

    function getMode() {
      return store.getItem(storageKey) || defaultMode
    }

    return { setMode, getMode }
  })()

  mode.setMode(mode.getMode())
</script> <script type="module">document.addEventListener("astro:after-swap",()=>window.mode.setMode(window.mode.getMode()));</script><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><script type="module" src="/_astro/ClientRouter.astro_astro_type_script_index_0_lang.elfUsALL.js"></script><style>.medium-zoom-overlay{position:fixed;inset:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}
.prose code:not(.expressive-code code){background-color:color-mix(in oklab,rgb(var(--accent)) 15%,transparent);border-radius:var(--radius-sm);padding-inline:calc(var(--spacing) * 1);padding-top:calc(var(--spacing) * .5)}
</style>
<link rel="stylesheet" href="/_astro/index.5UvRHg2i.css"></head> <body>  <div class="mx-auto flex min-h-[100svh] w-full max-w-[90%] flex-col justify-between md:max-w-3xl"> <header> <a href="#main" class="absolute -top-full left-8 px-2 py-2 focus:top-8">Skip to main content</a> <div class="flex justify-between py-4 sm:py-8"> <a href="/" class="text-accent flex gap-2 text-2xl font-semibold"> <img src="/_astro/logo.CMeXV7G3_68cTD.svg" alt="The CWL Zone logo, a drawing of a square, a circle and the intials CWL" loading="eager" decoding="async" fetchpriority="auto" width="24" height="24"> The CWL Zone </a> <nav class="hidden flex-col justify-end sm:flex"> <ul class="flex gap-6"> <li class="flex flex-col justify-center"> <a href="/posts/" class="flex items-center gap-1 whitespace-nowrap text-accent/100" target="_self">  <span class="underline"> Blog </span> </a> </li><li class="flex flex-col justify-center"> <a href="/gallery/" class="flex items-center gap-1 whitespace-nowrap clickable" target="_self">  <span class> Photo Gallery </span> </a> </li><li class="flex flex-col justify-center"> <a href="/tags/" class="flex items-center gap-1 whitespace-nowrap clickable" target="_self">  <span class> Tags </span> </a> </li><li class="flex flex-col justify-center"> <a href="/about/" class="flex items-center gap-1 whitespace-nowrap clickable" target="_self">  <span class> About </span> </a> </li><li class="flex flex-col justify-center"> <a href="/contact/" class="flex items-center gap-1 whitespace-nowrap clickable" target="_self">  <span class> Contact </span> </a> </li> <li class="text-2xl"> <a href="/search/" class="flex items-center" aria-label="Search"> <span class="clickable iconify tabler--search"></span> </a> </li> <li class="text-2xl"> <dark-light-toggle> <button title="Toggle dark & light mode" class="flex items-center"> <span aria-hidden="true" class="clickable iconify tabler--moon dark:tabler--sun"></span> </button> </dark-light-toggle> <script type="module">class l extends HTMLElement{connectedCallback(){const e=this.querySelector("button");if(!e)return;e.setAttribute("aria-label",window.mode.getMode());const o=()=>{const t=window.mode.getMode()==="light"?"dark":"light";window.mode.setMode(t),e.setAttribute("aria-label",t)};e.addEventListener("click",o)}}customElements.get("dark-light-toggle")||customElements.define("dark-light-toggle",l);</script> </li> </ul> </nav> <div class="flex items-center justify-center gap-4 text-2xl sm:hidden"> <dark-light-toggle> <button title="Toggle dark & light mode" class="flex items-center"> <span aria-hidden="true" class="clickable iconify tabler--moon dark:tabler--sun"></span> </button> </dark-light-toggle>  <a href="/search/" aria-label="Search"> <span class="clickable iconify tabler--search text-xl"></span> </a> <mobile-nav-toggle> <button class="flex items-center" title="Toggle mobile nav" aria-label="closed"> <span aria-hidden="true" id="mobile-nav-icon" class="clickable iconify tabler--menu-2"></span> </button> </mobile-nav-toggle> <script type="module">class r extends HTMLElement{connectedCallback(){const s="tabler--x",o="tabler--menu-2",e=document.querySelector("#mobile-nav"),n=this.querySelector("#mobile-nav-icon"),t=this.querySelector("button");if(!e||!n||!t)return;const l=()=>!e.classList.contains("hidden"),c=()=>{e.classList.add("hidden"),n.classList.replace(s,o),t.setAttribute("aria-label","closed")},i=()=>{e.classList.remove("hidden"),n.classList.replace(o,s),t.setAttribute("aria-label","open")},a=()=>{l()?c():i()};t.addEventListener("click",a)}}customElements.get("mobile-nav-toggle")||customElements.define("mobile-nav-toggle",r);</script> </div> </div> <hr class="border-separate border-accent/75 undefined"> <div id="mobile-nav" class="hidden"> <nav class="flex-col justify-end py-6"> <ul class="flex flex-col items-center gap-2"> <li class="flex flex-col justify-center"> <a href="/posts/" class="flex items-center gap-1 whitespace-nowrap text-accent/100" target="_self">  <span class="underline"> Blog </span> </a> </li><li class="flex flex-col justify-center"> <a href="/gallery/" class="flex items-center gap-1 whitespace-nowrap clickable" target="_self">  <span class> Photo Gallery </span> </a> </li><li class="flex flex-col justify-center"> <a href="/tags/" class="flex items-center gap-1 whitespace-nowrap clickable" target="_self">  <span class> Tags </span> </a> </li><li class="flex flex-col justify-center"> <a href="/about/" class="flex items-center gap-1 whitespace-nowrap clickable" target="_self">  <span class> About </span> </a> </li><li class="flex flex-col justify-center"> <a href="/contact/" class="flex items-center gap-1 whitespace-nowrap clickable" target="_self">  <span class> Contact </span> </a> </li> </ul> </nav> <hr class="border-separate border-accent/75 undefined"> </div> </header> <div class="mt-4"> <a href="/posts/" class="clickable flex w-fit items-center gap-1"> <span class="iconify tabler--arrow-left text-xl"></span>
Back to all posts
</a> </div> <aside class="scrollbar-hide fixed h-screen w-fit max-w-sm -translate-x-full overflow-y-auto overscroll-y-none pr-8"> <div class="border-accent mt-24 hidden border-r pr-4 opacity-75 transition duration-500 ease-in-out hover:opacity-100 2xl:block"> <div class="overflow-x-hidden p-4"> <div class="prose prose-lg max-w-full dark:prose-invert prose-h1:text-4xl prose-code:before:!content-none prose-code:after:!content-none sm:prose-h1:text-5xl prose-em:pr-[2px] undefined">  <h2 class="no-anchor mb-2">Table of Contents</h2> <details open> <summary>Show more</summary> <ul class="mt-1 mb-1 list-none">
          <li class="mt-1 mb-1">
                <a href="#introduction---what-is-vibe-coding" class="no-underline hover:underline toc-el" aria-label="Introduction - What Is Vibe Coding?">
                                Introduction - What Is Vibe Coding?
                              </a>
                              
                            </li><li class="mt-1 mb-1">
                <a href="#my-requests-to-lumo" class="no-underline hover:underline toc-el" aria-label="My Requests to Lumo">
                                My Requests to Lumo
                              </a>
                              
                            </li><li class="mt-1 mb-1">
                <a href="#lumos-script" class="no-underline hover:underline toc-el" aria-label="Lumo’s Script">
                                Lumo’s Script
                              </a>
                              
                            </li><li class="mt-1 mb-1">
                <a href="#lumo-script-results" class="no-underline hover:underline toc-el" aria-label="Lumo Script Results">
                                Lumo Script Results
                              </a>
                              
                            </li><li class="mt-1 mb-1">
                <a href="#my-script" class="no-underline hover:underline toc-el" aria-label="My Script">
                                My Script
                              </a>
                              
                            </li><li class="mt-1 mb-1">
                <a href="#my-script-results" class="no-underline hover:underline toc-el" aria-label="My Script Results">
                                My Script Results
                              </a>
                              
                            </li><li class="mt-1 mb-1">
                <a href="#discussion" class="no-underline hover:underline toc-el" aria-label="Discussion">
                                Discussion
                              </a>
                              
                            </li><li class="mt-1 mb-1">
                <a href="#conclusions" class="no-underline hover:underline toc-el" aria-label="Conclusions">
                                Conclusions
                              </a>
                              
                            </li><li class="mt-1 mb-1">
                <a href="#notes" class="no-underline hover:underline toc-el" aria-label="Notes">
                                Notes
                              </a>
                              
                            </li><li class="mt-1 mb-1">
                <a href="#footnote-label" class="no-underline hover:underline toc-el" aria-label="Footnotes">
                                Footnotes
                              </a>
                              
                            </li>
          </ul> </details>  </div>  </div> <script type="module">function i(){const o={},r=new IntersectionObserver(c=>{for(const e of c){const t=e.target.querySelector("h2,h3,h4,h5")?.id;t&&(o[t]=e.intersectionRatio)}document.querySelectorAll(".toc-el").forEach(e=>e.classList.remove("underline"));const n=Math.max(...Object.values(o)),[s]=Object.entries(o).find(([e,t])=>t==n)||[];document.querySelectorAll(`[href="#${s}"]`).forEach(e=>e.classList.add("underline"))},{threshold:[.33,.66,1]});document.querySelectorAll("article section").forEach(c=>r.observe(c))}document.addEventListener("astro:page-load",()=>{i()});</script> </div> </aside> <main id="main" class="mt-6 sm:mt-12"> <div class="prose prose-lg max-w-full dark:prose-invert prose-h1:text-4xl prose-code:before:!content-none prose-code:after:!content-none sm:prose-h1:text-5xl prose-em:pr-[2px] mb-6 sm:mb-12">    <h1 class="mt-2 mb-2 sm:my-4">Lumo As Ruby Developer</h1> <div class="flex gap-6 text-base"> <a class="clickable no-underline" href="/tags/artificial-intelligence/"> <span class="iconify align-middle text-xl tabler--tag"></span> <span class="font-normal">artificial-intelligence</span> </a><a class="clickable no-underline" href="/tags/ruby-and-rails/"> <span class="iconify align-middle text-xl tabler--tag"></span> <span class="font-normal">ruby-and-rails</span> </a><a class="clickable no-underline" href="/tags/software-development/"> <span class="iconify align-middle text-xl tabler--tag"></span> <span class="font-normal">software-development</span> </a> </div> <div class="mt-4"> <span class="opacity-75">Published on <time datetime="2025-10-28T00:00:00.000Z">Oct 27, 2025</time> by</span> <a class="clickable" href="/authors/Lehman/">Lehman</a> · <span class="whitespace-nowrap opacity-75">5 min read </span> </div> <div class="mt-8 w-fit rounded-sm border 2xl:hidden"> <div class="overflow-x-hidden p-4"> <div class="prose prose-lg max-w-full dark:prose-invert prose-h1:text-4xl prose-code:before:!content-none prose-code:after:!content-none sm:prose-h1:text-5xl prose-em:pr-[2px] undefined">  <h2 class="no-anchor mb-2">Table of Contents</h2> <details> <summary>Show more</summary> <ul class="mt-1 mb-1 list-none">
          <li class="mt-1 mb-1">
                <a href="#introduction---what-is-vibe-coding" class="no-underline hover:underline toc-el" aria-label="Introduction - What Is Vibe Coding?">
                                Introduction - What Is Vibe Coding?
                              </a>
                              
                            </li><li class="mt-1 mb-1">
                <a href="#my-requests-to-lumo" class="no-underline hover:underline toc-el" aria-label="My Requests to Lumo">
                                My Requests to Lumo
                              </a>
                              
                            </li><li class="mt-1 mb-1">
                <a href="#lumos-script" class="no-underline hover:underline toc-el" aria-label="Lumo’s Script">
                                Lumo’s Script
                              </a>
                              
                            </li><li class="mt-1 mb-1">
                <a href="#lumo-script-results" class="no-underline hover:underline toc-el" aria-label="Lumo Script Results">
                                Lumo Script Results
                              </a>
                              
                            </li><li class="mt-1 mb-1">
                <a href="#my-script" class="no-underline hover:underline toc-el" aria-label="My Script">
                                My Script
                              </a>
                              
                            </li><li class="mt-1 mb-1">
                <a href="#my-script-results" class="no-underline hover:underline toc-el" aria-label="My Script Results">
                                My Script Results
                              </a>
                              
                            </li><li class="mt-1 mb-1">
                <a href="#discussion" class="no-underline hover:underline toc-el" aria-label="Discussion">
                                Discussion
                              </a>
                              
                            </li><li class="mt-1 mb-1">
                <a href="#conclusions" class="no-underline hover:underline toc-el" aria-label="Conclusions">
                                Conclusions
                              </a>
                              
                            </li><li class="mt-1 mb-1">
                <a href="#notes" class="no-underline hover:underline toc-el" aria-label="Notes">
                                Notes
                              </a>
                              
                            </li><li class="mt-1 mb-1">
                <a href="#footnote-label" class="no-underline hover:underline toc-el" aria-label="Footnotes">
                                Footnotes
                              </a>
                              
                            </li>
          </ul> </details>  </div>  </div>  </div><article data-pagefind-body> <section><h2 id="introduction---what-is-vibe-coding">Introduction - What Is Vibe Coding?</h2><p>Whilst cycling through my security news sites, I ran across an article on <a href="https://www.bleepingcomputer.com/">Bleeping Computer</a> - Google says everyone will be able to <a href="https://www.bleepingcomputer.com/news/google/google-says-everyone-will-be-able-to-vibe-code-video-games/">vibe code video games</a></p><p>OK, so I’m retired and out of the loop - what is vibe coding? A <a href="https://brave.com/">Brave</a> search yielded:</p><p><em>Vibe coding is an emerging software development practice that uses artificial intelligence (AI), particularly large language models (LLMs), to generate functional code from natural language prompts…</em></p><p>Ah. So is this really a viable way to write code? I decided to run a quick experiment using <a href="https://lumo.proton.me/guest">Lumo</a>.</p></section>
<section><h2 id="my-requests-to-lumo">My Requests to Lumo</h2><p>To test this feature, I decided to ask Lumo to create something I already have in use, a Ruby “heartbeat” script to periodically test my internet connectivity:</p><p><code>Build me a Ruby language script that periodically tests network continuity using ping</code></p><p>Lumo built me a script, but then I realzed that a more fair comparison would be to send the ping output to STDOUT, so I revised the request:</p><p><code>Instead of sending the results to a log file, send the results to STDOUT</code></p><p>Here is the result from that request:</p></section>
<section><h2 id="lumos-script">Lumo’s Script</h2><div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.6ea27.css"><script type="module" src="/_astro/ec.p1z7b.js"></script><figure class="frame has-title"><figcaption class="header"><span class="title">Lumo's Script</span></figcaption><pre data-language="ruby" class="wrap" style="--ecMaxLine:92ch"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#636B63;--1:#778777FE">#!/usr/bin/env ruby</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span style="--0:#1E754F;--1:#4D9375">require</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574AFD;--1:#C98A7DD9">'</span><span style="--0:#96574A;--1:#C98A7D">open3</span><span style="--0:#96574AFD;--1:#C98A7DD9">'</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span style="--0:#1E754F;--1:#4D9375">require</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574AFD;--1:#C98A7DD9">'</span><span style="--0:#96574A;--1:#C98A7D">time</span><span style="--0:#96574AFD;--1:#C98A7DD9">'</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span style="--0:#636B63;--1:#778777FE"># ------------------- Configuration -------------------</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span style="--0:#876037;--1:#BD976A">HOST</span><span style="--0:#393A34;--1:#DBD7CACC">     </span><span style="--0:#686868;--1:#838383">=</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574AFD;--1:#C98A7DD9">'</span><span style="--0:#96574A;--1:#C98A7D">8.8.8.8</span><span style="--0:#96574AFD;--1:#C98A7DD9">'</span><span style="--0:#393A34;--1:#DBD7CACC">   </span><span style="--0:#636B63;--1:#778777FE"># Destination to ping (IP or hostname)</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span style="--0:#876037;--1:#BD976A">INTERVAL</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#686868;--1:#838383">=</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#2C7181;--1:#4C9A91">60</span><span style="--0:#393A34;--1:#DBD7CACC">          </span><span style="--0:#636B63;--1:#778777FE"># Seconds between each ping</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span style="--0:#876037;--1:#BD976A">COUNT</span><span style="--0:#393A34;--1:#DBD7CACC">    </span><span style="--0:#686868;--1:#838383">=</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#2C7181;--1:#4C9A91">4</span><span style="--0:#393A34;--1:#DBD7CACC">           </span><span style="--0:#636B63;--1:#778777FE"># Number of ICMP packets per test</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span style="--0:#636B63;--1:#778777FE"># -----------------------------------------------------</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">10</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">11</div></div><div class="code"><span style="--0:#1E754F;--1:#4D9375">def</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#4B7231;--1:#80A665">ping_host</span><span style="--0:#686868;--1:#838383">(</span><span style="--0:#393A34;--1:#DBD7CACC">host</span><span style="--0:#686868;--1:#838383">,</span><span style="--0:#393A34;--1:#DBD7CACC"> count</span><span style="--0:#686868;--1:#838383">)</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">12</div></div><div class="code"><span class="indent">  </span><span style="--0:#636B63;--1:#778777FE"># Run the system ping command and capture its output</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">13</div></div><div class="code"><span class="indent">  </span><span style="--0:#876037;--1:#BD976A">cmd</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#686868;--1:#838383">=</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574AFD;--1:#C98A7DD9">"</span><span style="--0:#96574A;--1:#C98A7D">ping -c </span><span style="--0:#686868;--1:#838383">#{</span><span style="--0:#96574A;--1:#C98A7D">count</span><span style="--0:#686868;--1:#838383">}</span><span style="--0:#96574A;--1:#C98A7D"> </span><span style="--0:#686868;--1:#838383">#{</span><span style="--0:#96574A;--1:#C98A7D">host</span><span style="--0:#686868;--1:#838383">}</span><span style="--0:#96574AFD;--1:#C98A7DD9">"</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">14</div></div><div class="code"><span class="indent"><span style="--0:#393A34;--1:#DBD7CACC">  </span></span><span style="--0:#393A34;--1:#DBD7CACC">stdout</span><span style="--0:#686868;--1:#838383">,</span><span style="--0:#393A34;--1:#DBD7CACC"> stderr</span><span style="--0:#686868;--1:#838383">,</span><span style="--0:#393A34;--1:#DBD7CACC"> status </span><span style="--0:#686868;--1:#838383">=</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#786713;--1:#B8A965">Open3</span><span style="--0:#686868;--1:#838383">.</span><span style="--0:#4B7231;--1:#80A665">capture3</span><span style="--0:#686868;--1:#838383">(</span><span style="--0:#393A34;--1:#DBD7CACC">cmd</span><span style="--0:#686868;--1:#838383">)</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">15</div></div><div class="code">
</div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">16</div></div><div class="code"><span class="indent">  </span><span style="--0:#1E754F;--1:#4D9375">if</span><span style="--0:#393A34;--1:#DBD7CACC"> status</span><span style="--0:#686868;--1:#838383">.</span><span style="--0:#4B7231;--1:#80A665">success?</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">17</div></div><div class="code"><span class="indent">    </span><span style="--0:#636B63;--1:#778777FE"># Pull packet‑loss % and average RTT from ping output</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">18</div></div><div class="code"><span class="indent">    </span><span style="--0:#876037;--1:#BD976A">loss_line</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#686868;--1:#838383">=</span><span style="--0:#393A34;--1:#DBD7CACC"> stdout</span><span style="--0:#686868;--1:#838383">.</span><span style="--0:#4B7231;--1:#80A665">lines</span><span style="--0:#686868;--1:#838383">.</span><span style="--0:#4B7231;--1:#80A665">find</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#686868;--1:#838383">{</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#686868;--1:#838383">|</span><span style="--0:#876037;--1:#BD976A">l</span><span style="--0:#686868;--1:#838383">|</span><span style="--0:#393A34;--1:#DBD7CACC"> l </span><span style="--0:#9E5252;--1:#CB7676">=~</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#686868;--1:#838383">/</span><span style="--0:#9B5539;--1:#C4704F">packet loss</span><span style="--0:#686868;--1:#838383">/</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#686868;--1:#838383">}</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">19</div></div><div class="code"><span class="indent">    </span><span style="--0:#876037;--1:#BD976A">rtt_line</span><span style="--0:#393A34;--1:#DBD7CACC">  </span><span style="--0:#686868;--1:#838383">=</span><span style="--0:#393A34;--1:#DBD7CACC"> stdout</span><span style="--0:#686868;--1:#838383">.</span><span style="--0:#4B7231;--1:#80A665">lines</span><span style="--0:#686868;--1:#838383">.</span><span style="--0:#4B7231;--1:#80A665">find</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#686868;--1:#838383">{</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#686868;--1:#838383">|</span><span style="--0:#876037;--1:#BD976A">l</span><span style="--0:#686868;--1:#838383">|</span><span style="--0:#393A34;--1:#DBD7CACC"> l </span><span style="--0:#9E5252;--1:#CB7676">=~</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#686868;--1:#838383">/</span><span style="--0:#9B5539;--1:#C4704F">rtt min</span><span style="--0:#786823;--1:#E6CC77">\/</span><span style="--0:#9B5539;--1:#C4704F">avg</span><span style="--0:#786823;--1:#E6CC77">\/</span><span style="--0:#9B5539;--1:#C4704F">max</span><span style="--0:#786823;--1:#E6CC77">\/</span><span style="--0:#9B5539;--1:#C4704F">mdev</span><span style="--0:#686868;--1:#838383">/</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#686868;--1:#838383">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">20</div></div><div class="code">
</div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">21</div></div><div class="code"><span class="indent">    </span><span style="--0:#876037;--1:#BD976A">loss</span><span style="--0:#393A34;--1:#DBD7CACC">    </span><span style="--0:#686868;--1:#838383">=</span><span style="--0:#393A34;--1:#DBD7CACC"> loss_line</span><span style="--0:#686868;--1:#838383">[</span><span style="--0:#686868;--1:#838383">/(</span><span style="--0:#786823;--1:#E6CC77">\d</span><span style="--0:#9B5539;--1:#C4704F">+</span><span style="--0:#686868;--1:#838383">)</span><span style="--0:#9B5539;--1:#C4704F">% packet loss</span><span style="--0:#686868;--1:#838383">/</span><span style="--0:#686868;--1:#838383">,</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#2C7181;--1:#4C9A91">1</span><span style="--0:#686868;--1:#838383">]</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#1E754F;--1:#4D9375">rescue</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574AFD;--1:#C98A7DD9">'</span><span style="--0:#96574A;--1:#C98A7D">N/A</span><span style="--0:#96574AFD;--1:#C98A7DD9">'</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">22</div></div><div class="code"><span class="indent">    </span><span style="--0:#876037;--1:#BD976A">avg_rtt</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#686868;--1:#838383">=</span><span style="--0:#393A34;--1:#DBD7CACC"> rtt_line</span><span style="--0:#686868;--1:#838383">[/=</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#686868;--1:#838383">.</span><span style="--0:#9E5252;--1:#CB7676">*</span><span style="--0:#393A34;--1:#DBD7CACC">\</span><span style="--0:#686868;--1:#838383">/([</span><span style="--0:#786823;--1:#E6CC77">\d\.</span><span style="--0:#686868;--1:#838383">]</span><span style="--0:#9B5539;--1:#C4704F">+</span><span style="--0:#686868;--1:#838383">)</span><span style="--0:#786823;--1:#E6CC77">\/</span><span style="--0:#9B5539;--1:#C4704F">.* ms</span><span style="--0:#686868;--1:#838383">/</span><span style="--0:#686868;--1:#838383">,</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#2C7181;--1:#4C9A91">1</span><span style="--0:#686868;--1:#838383">]</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#1E754F;--1:#4D9375">rescue</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574AFD;--1:#C98A7DD9">'</span><span style="--0:#96574A;--1:#C98A7D">N/A</span><span style="--0:#96574AFD;--1:#C98A7DD9">'</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">23</div></div><div class="code">
</div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">24</div></div><div class="code"><span class="indent">    </span><span style="--0:#686868;--1:#838383">{</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#1E754F;--1:#4D9375">success</span><span style="--0:#686868;--1:#838383">:</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#1E754F;--1:#4D9375">true</span><span style="--0:#686868;--1:#838383">,</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#1E754F;--1:#4D9375">loss</span><span style="--0:#686868;--1:#838383">:</span><span style="--0:#393A34;--1:#DBD7CACC"> loss</span><span style="--0:#686868;--1:#838383">,</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#1E754F;--1:#4D9375">avg_rtt</span><span style="--0:#686868;--1:#838383">:</span><span style="--0:#393A34;--1:#DBD7CACC"> avg_rtt </span><span style="--0:#686868;--1:#838383">}</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">25</div></div><div class="code"><span class="indent">  </span><span style="--0:#1E754F;--1:#4D9375">else</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">26</div></div><div class="code"><span class="indent">    </span><span style="--0:#686868;--1:#838383">{</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#1E754F;--1:#4D9375">success</span><span style="--0:#686868;--1:#838383">:</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#1E754F;--1:#4D9375">false</span><span style="--0:#686868;--1:#838383">,</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#1E754F;--1:#4D9375">error</span><span style="--0:#686868;--1:#838383">:</span><span style="--0:#393A34;--1:#DBD7CACC"> stderr</span><span style="--0:#686868;--1:#838383">.</span><span style="--0:#4B7231;--1:#80A665">strip</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#686868;--1:#838383">}</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">27</div></div><div class="code"><span class="indent">  </span><span style="--0:#1E754F;--1:#4D9375">end</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">28</div></div><div class="code"><span style="--0:#1E754F;--1:#4D9375">end</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">29</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">30</div></div><div class="code"><span style="--0:#1E754F;--1:#4D9375">def</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#4B7231;--1:#80A665">display_result</span><span style="--0:#686868;--1:#838383">(</span><span style="--0:#393A34;--1:#DBD7CACC">result</span><span style="--0:#686868;--1:#838383">)</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">31</div></div><div class="code"><span class="indent">  </span><span style="--0:#876037;--1:#BD976A">timestamp</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#686868;--1:#838383">=</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#786713;--1:#B8A965">Time</span><span style="--0:#686868;--1:#838383">.</span><span style="--0:#4B7231;--1:#80A665">now</span><span style="--0:#686868;--1:#838383">.</span><span style="--0:#4B7231;--1:#80A665">utc</span><span style="--0:#686868;--1:#838383">.</span><span style="--0:#4B7231;--1:#80A665">iso8601</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">32</div></div><div class="code"><span class="indent">  </span><span style="--0:#1E754F;--1:#4D9375">if</span><span style="--0:#393A34;--1:#DBD7CACC"> result</span><span style="--0:#686868;--1:#838383">[:</span><span style="--0:#1E754F;--1:#4D9375">success</span><span style="--0:#686868;--1:#838383">]</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">33</div></div><div class="code"><span class="indent">    </span><span style="--0:#786713;--1:#B8A965">puts</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574AFD;--1:#C98A7DD9">"</span><span style="--0:#96574A;--1:#C98A7D">[</span><span style="--0:#686868;--1:#838383">#{</span><span style="--0:#96574A;--1:#C98A7D">timestamp</span><span style="--0:#686868;--1:#838383">}</span><span style="--0:#96574A;--1:#C98A7D">] SUCCESS – Loss: </span><span style="--0:#686868;--1:#838383">#{</span><span style="--0:#96574A;--1:#C98A7D">result</span><span style="--0:#686868;--1:#838383">[:</span><span style="--0:#1E754F;--1:#4D9375">loss</span><span style="--0:#686868;--1:#838383">]}</span><span style="--0:#96574A;--1:#C98A7D">%, Avg RTT: </span><span style="--0:#686868;--1:#838383">#{</span><span style="--0:#96574A;--1:#C98A7D">result</span><span style="--0:#686868;--1:#838383">[:</span><span style="--0:#1E754F;--1:#4D9375">avg_rtt</span><span style="--0:#686868;--1:#838383">]}</span><span style="--0:#96574A;--1:#C98A7D"> ms</span><span style="--0:#96574AFD;--1:#C98A7DD9">"</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">34</div></div><div class="code"><span class="indent">  </span><span style="--0:#1E754F;--1:#4D9375">else</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">35</div></div><div class="code"><span class="indent">    </span><span style="--0:#786713;--1:#B8A965">puts</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574AFD;--1:#C98A7DD9">"</span><span style="--0:#96574A;--1:#C98A7D">[</span><span style="--0:#686868;--1:#838383">#{</span><span style="--0:#96574A;--1:#C98A7D">timestamp</span><span style="--0:#686868;--1:#838383">}</span><span style="--0:#96574A;--1:#C98A7D">] FAILURE – Error: </span><span style="--0:#686868;--1:#838383">#{</span><span style="--0:#96574A;--1:#C98A7D">result</span><span style="--0:#686868;--1:#838383">[:</span><span style="--0:#1E754F;--1:#4D9375">error</span><span style="--0:#686868;--1:#838383">]}</span><span style="--0:#96574AFD;--1:#C98A7DD9">"</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">36</div></div><div class="code"><span class="indent">  </span><span style="--0:#1E754F;--1:#4D9375">end</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">37</div></div><div class="code"><span style="--0:#1E754F;--1:#4D9375">end</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">38</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">39</div></div><div class="code"><span style="--0:#636B63;--1:#778777FE"># ------------------- Main Loop -------------------</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">40</div></div><div class="code"><span style="--0:#1E754F;--1:#4D9375">loop</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#1E754F;--1:#4D9375">do</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">41</div></div><div class="code"><span class="indent">  </span><span style="--0:#876037;--1:#BD976A">result</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#686868;--1:#838383">=</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#4B7231;--1:#80A665">ping_host</span><span style="--0:#686868;--1:#838383">(</span><span style="--0:#876037;--1:#BD976A">HOST</span><span style="--0:#686868;--1:#838383">,</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#876037;--1:#BD976A">COUNT</span><span style="--0:#686868;--1:#838383">)</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">42</div></div><div class="code"><span class="indent">  </span><span style="--0:#4B7231;--1:#80A665">display_result</span><span style="--0:#686868;--1:#838383">(</span><span style="--0:#393A34;--1:#DBD7CACC">result</span><span style="--0:#686868;--1:#838383">)</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">43</div></div><div class="code"><span class="indent">  </span><span style="--0:#786713;--1:#B8A965">sleep</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#876037;--1:#BD976A">INTERVAL</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">44</div></div><div class="code"><span style="--0:#1E754F;--1:#4D9375">end</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">45</div></div><div class="code"><span style="--0:#636B63;--1:#778777FE"># -------------------------------------------------</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="#!/usr/bin/env rubyrequire &#x27;open3&#x27;require &#x27;time&#x27;# ------------------- Configuration -------------------HOST     = &#x27;8.8.8.8&#x27;   # Destination to ping (IP or hostname)INTERVAL = 60          # Seconds between each pingCOUNT    = 4           # Number of ICMP packets per test# -----------------------------------------------------def ping_host(host, count)  # Run the system ping command and capture its output  cmd = &#x22;ping -c #{count} #{host}&#x22;  stdout, stderr, status = Open3.capture3(cmd)  if status.success?    # Pull packet‑loss % and average RTT from ping output    loss_line = stdout.lines.find { |l| l =~ /packet loss/ }    rtt_line  = stdout.lines.find { |l| l =~ /rtt min\/avg\/max\/mdev/ }    loss    = loss_line[/(\d+)% packet loss/, 1] rescue &#x27;N/A&#x27;    avg_rtt = rtt_line[/= .*\/([\d\.]+)\/.* ms/, 1] rescue &#x27;N/A&#x27;    { success: true, loss: loss, avg_rtt: avg_rtt }  else    { success: false, error: stderr.strip }  endenddef display_result(result)  timestamp = Time.now.utc.iso8601  if result[:success]    puts &#x22;[#{timestamp}] SUCCESS – Loss: #{result[:loss]}%, Avg RTT: #{result[:avg_rtt]} ms&#x22;  else    puts &#x22;[#{timestamp}] FAILURE – Error: #{result[:error]}&#x22;  endend# ------------------- Main Loop -------------------loop do  result = ping_host(HOST, COUNT)  display_result(result)  sleep INTERVALend# -------------------------------------------------"><div></div></button></div></figure></div></section>
<section><h2 id="lumo-script-results">Lumo Script Results</h2><div class="expressive-code"><figure class="frame is-terminal has-title"><figcaption class="header"><span class="title">output from network_monitor_stdout.rb</span></figcaption><pre data-language="bash" class="wrap" style="--ecMaxLine:98ch"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#686868;--1:#838383">[</span><span style="--0:#393A34;--1:#DBD7CACC">~</span><span style="--0:#686868;--1:#838383">]</span><span style="--0:#393A34;--1:#DBD7CACC">$ ./bin/network_monitor_stdout.rb                                                   rbenv:3.3.4</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span style="--0:#686868;--1:#838383">[</span><span style="--0:#393A34;--1:#DBD7CACC">2025-10-27T18:41:20Z</span><span style="--0:#686868;--1:#838383">]</span><span style="--0:#393A34;--1:#DBD7CACC"> SUCCESS – Loss: 0%, Avg RTT: N/A ms</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="[~]$ ./bin/network_monitor_stdout.rb                                                   rbenv:3.3.4[2025-10-27T18:41:20Z] SUCCESS – Loss: 0%, Avg RTT: N/A ms"><div></div></button></div></figure></div></section>
<section><h2 id="my-script">My Script</h2><div class="expressive-code"><figure class="frame has-title"><figcaption class="header"><span class="title">CWL's Script</span></figcaption><pre data-language="ruby" class="wrap" style="--ecMaxLine:38ch"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#636B63;--1:#778777FE">#!/usr/bin/env ruby</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span style="--0:#1E754F;--1:#4D9375">loop</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#1E754F;--1:#4D9375">do</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent">  </span><span style="--0:#786713;--1:#B8A965">puts</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574AFD;--1:#C98A7DD9">`</span><span style="--0:#96574A;--1:#C98A7D">date</span><span style="--0:#96574AFD;--1:#C98A7DD9">`</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent">  </span><span style="--0:#786713;--1:#B8A965">puts</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574AFD;--1:#C98A7DD9">`</span><span style="--0:#96574A;--1:#C98A7D">ping -q -c 5 8.8.8.8</span><span style="--0:#96574AFD;--1:#C98A7DD9">`</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#636B63;--1:#778777FE"># google</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent">  </span><span style="--0:#786713;--1:#B8A965">puts</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574AFD;--1:#C98A7DD9">""</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent">  </span><span style="--0:#786713;--1:#B8A965">sleep</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#2C7181;--1:#4C9A91">900</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#636B63;--1:#778777FE"># every 15 minutes</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span style="--0:#1E754F;--1:#4D9375">end</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="#!/usr/bin/env rubyloop do  puts &#x60;date&#x60;  puts &#x60;ping -q -c 5 8.8.8.8&#x60; # google  puts &#x22;&#x22;  sleep 900 # every 15 minutesend"><div></div></button></div></figure></div></section>
<section><h2 id="my-script-results">My Script Results</h2><div class="expressive-code"><figure class="frame is-terminal has-title"><figcaption class="header"><span class="title">output from ping_test.rb</span></figcaption><pre data-language="bash" class="wrap" style="--ecMaxLine:98ch"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#686868;--1:#838383">[</span><span style="--0:#393A34;--1:#DBD7CACC">~</span><span style="--0:#686868;--1:#838383">]</span><span style="--0:#393A34;--1:#DBD7CACC">$ ./bin/ping_test.rb                                                                rbenv:3.3.4</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span style="--0:#4B7231;--1:#80A665">Mon</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">Oct</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#2C7181;--1:#4C9A91">27</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">12:37:10</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">MDT</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#2C7181;--1:#4C9A91">2025</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span style="--0:#4B7231;--1:#80A665">PING</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#2C7181;--1:#4C9A91">8.8.8.8</span><span style="--0:#393A34;--1:#DBD7CACC"> (8.8.8.8): 56 data bytes</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span style="--0:#4B7231;--1:#80A665">---</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#2C7181;--1:#4C9A91">8.8.8.8</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">ping</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">statistics</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#995728;--1:#C99076">---</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span style="--0:#4B7231;--1:#80A665">5</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">packets</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">transmitted,</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#2C7181;--1:#4C9A91">5</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">packets</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">received,</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">0.0%</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">packet</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">loss</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span style="--0:#4B7231;--1:#80A665">round-trip</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">min/avg/max/stddev</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">=</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">19.577/23.764/27.793/3.086</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">ms</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="[~]$ ./bin/ping_test.rb                                                                rbenv:3.3.4Mon Oct 27 12:37:10 MDT 2025PING 8.8.8.8 (8.8.8.8): 56 data bytes--- 8.8.8.8 ping statistics ---5 packets transmitted, 5 packets received, 0.0% packet lossround-trip min/avg/max/stddev = 19.577/23.764/27.793/3.086 ms"><div></div></button></div></figure></div></section>
<section><h2 id="discussion">Discussion</h2><p>OK, Lumo created some good code, sort of - see <a href="https://rubocop.org/">RuboCop</a> results below.</p><p>Should I have told Lumo to create a <em>shell</em> script instead of specifying just a script? Would that have triggered something closer to my <a href="https://github.com/ruby/irb">irb-ish</a> solution? Did revising my request for a STDOUT solution muddy the waters, i.e. should I have started a completely new chat? Why did Lumo decide to filter the ping output as it did? This stuff still seems like a lot of FM <sup><a href="#user-content-fn-1" id="user-content-fnref-1" data-footnote-ref="" aria-describedby="footnote-label">1</a></sup></p><p>RuboCop was not happy - note in the debug output that I am using a <a href="https://github.com/rails/rubocop-rails-omakase">Railsy gem</a> for the RuboCop criteria, which may not be fair to use on non-Rails Ruby code. Still…</p><p>Here’s the output from RuboCop (with some post-editing for security purposes):</p><div class="expressive-code"><figure class="frame is-terminal has-title"><figcaption class="header"><span class="title">RuboCop results</span></figcaption><pre data-language="bash" class="wrap" style="--ecMaxLine:201ch"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#4B7231;--1:#80A665"></span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">rubocop</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#995728;--1:#C99076">--debug</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">~/bin/network_monitor_stdout.rb</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span style="--0:#4B7231;--1:#80A665">For</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">/home/REDACTED/Sites/RailsStaticSite:</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">configuration</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">from</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">/home/REDACTED/Sites/RailsStaticSite/.rubocop.yml</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span style="--0:#4B7231;--1:#80A665">Inheriting</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">configuration</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">from</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">/home/REDACTED/.local/share/mise/installs/ruby/3.4.7/lib/ruby/gems/3.4.0/gems/rubocop-rails-omakase-1.1.0/rubocop.yml</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span style="--0:#4B7231;--1:#80A665">Default</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">configuration</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">from</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">/home/REDACTED/.local/share/mise/installs/ruby/3.4.7/lib/ruby/gems/3.4.0/gems/rubocop-1.81.6/config/default.yml</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span style="--0:#4B7231;--1:#80A665">Plugin</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">configuration</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">from</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">/home/REDACTED/.local/share/mise/installs/ruby/3.4.7/lib/ruby/gems/3.4.0/gems/rubocop-performance-1.26.1/config/default.yml</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span style="--0:#4B7231;--1:#80A665">Plugin</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">configuration</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">from</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">/home/REDACTED/.local/share/mise/installs/ruby/3.4.7/lib/ruby/gems/3.4.0/gems/rubocop-rails-2.33.4/config/default.yml</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span style="--0:#4B7231;--1:#80A665">Use</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">parallel</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">by</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">default.</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span style="--0:#4B7231;--1:#80A665">Skipping</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">parallel</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">inspection:</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">only</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">a</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">single</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">file</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">needs</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">inspection</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span style="--0:#4B7231;--1:#80A665">Inspecting</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#2C7181;--1:#4C9A91">1</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">file</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">10</div></div><div class="code"><span style="--0:#4B7231;--1:#80A665">Scanning</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">/home/REDACTED/bin/network_monitor_stdout.rb</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">11</div></div><div class="code"><span style="--0:#4B7231;--1:#80A665">For</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">/home/REDACTED/bin:</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">Loading</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">cache</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">from</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">/home/REDACTED/.cache/rubocop_cache/da3bdb6e00ee310b59080212470ead3a8f82caa5/6d7a3b621ca1730e04accd938619e4bdab66cfb1/ede911c576c302bc8d0b8b516aed584aca15e98f</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">12</div></div><div class="code"><span style="--0:#4B7231;--1:#80A665">C</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">13</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">14</div></div><div class="code"><span style="--0:#4B7231;--1:#80A665">Offenses:</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">15</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">16</div></div><div class="code"><span style="--0:#4B7231;--1:#80A665">/home/REDACTED/bin/network_monitor_stdout.rb:1:1:</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">C:</span><span style="--0:#393A34;--1:#DBD7CACC"> [Correctable] Style/FrozenStringLiteralComment: Missing frozen string literal comment.</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">17</div></div><div class="code"><span style="--0:#636B63;--1:#778777FE">#!/usr/bin/env ruby</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">18</div></div><div class="code"><span style="--0:#4B7231;--1:#80A665">^</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">19</div></div><div class="code"><span style="--0:#4B7231;--1:#80A665">/home/REDACTED/bin/network_monitor_stdout.rb:6:12:</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">C:</span><span style="--0:#393A34;--1:#DBD7CACC"> [Correctable] Style/MutableConstant: Freeze mutable objects assigned to constants.</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">20</div></div><div class="code"><span style="--0:#4B7231;--1:#80A665">HOST</span><span style="--0:#393A34;--1:#DBD7CACC">     </span><span style="--0:#96574A;--1:#C98A7D">=</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574AFD;--1:#C98A7DD9">'</span><span style="--0:#96574A;--1:#C98A7D">8.8.8.8</span><span style="--0:#96574AFD;--1:#C98A7DD9">'</span><span style="--0:#393A34;--1:#DBD7CACC">   </span><span style="--0:#636B63;--1:#778777FE"># Destination to ping (IP or hostname)</span></div></div><div class="ec-line" style="--ecIndent:11ch"><div class="gutter"><div class="ln" aria-hidden="true">21</div></div><div class="code"><span class="indent">           </span><span style="--0:#4B7231;--1:#80A665">^^^^^^^^^</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">22</div></div><div class="code"><span style="--0:#4B7231;--1:#80A665">/home/REDACTED/bin/network_monitor_stdout.rb:11:1:</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">C:</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">Metrics/MethodLength:</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">Method</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">has</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">too</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">many</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">lines.</span><span style="--0:#393A34;--1:#DBD7CACC"> [11/10]</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">23</div></div><div class="code"><span style="--0:#4B7231;--1:#80A665">def</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">ping_host</span><span style="--0:#686868;--1:#838383">(</span><span style="--0:#4B7231;--1:#80A665">host,</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">count</span><span style="--0:#686868;--1:#838383">)</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">...</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">24</div></div><div class="code"><span style="--0:#4B7231;--1:#80A665">^^^^^^^^^^^^^^^^^^^^^^^^^^</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">25</div></div><div class="code"><span style="--0:#4B7231;--1:#80A665">/home/REDACTED/bin/network_monitor_stdout.rb:19:46:</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">C:</span><span style="--0:#393A34;--1:#DBD7CACC"> [Correctable] Style/RegexpLiteral: Use %r around regular expression.</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">26</div></div><div class="code"><span class="indent">    </span><span style="--0:#4B7231;--1:#80A665">rtt_line</span><span style="--0:#393A34;--1:#DBD7CACC">  </span><span style="--0:#96574A;--1:#C98A7D">=</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">stdout.lines.find</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">{</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#9E5252;--1:#CB7676">|</span><span style="--0:#4B7231;--1:#80A665">l</span><span style="--0:#9E5252;--1:#CB7676">|</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#4B7231;--1:#80A665">l</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">=~</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">/rtt</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">min</span><span style="--0:#995728;--1:#C99076">\/</span><span style="--0:#96574A;--1:#C98A7D">avg</span><span style="--0:#995728;--1:#C99076">\/</span><span style="--0:#96574A;--1:#C98A7D">max</span><span style="--0:#995728;--1:#C99076">\/</span><span style="--0:#96574A;--1:#C98A7D">mdev/</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">}</span></div></div><div class="ec-line" style="--ecIndent:45ch"><div class="gutter"><div class="ln" aria-hidden="true">27</div></div><div class="code"><span class="indent">                                             </span><span style="--0:#4B7231;--1:#80A665">^^^^^^^^^^^^^^^^^^^^^^^^^</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">28</div></div><div class="code"><span style="--0:#4B7231;--1:#80A665">/home/REDACTED/bin/network_monitor_stdout.rb:21:15:</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">C:</span><span style="--0:#393A34;--1:#DBD7CACC"> [Correctable] Style/RescueModifier: Avoid using rescue in its modifier form.</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">29</div></div><div class="code"><span class="indent">    </span><span style="--0:#4B7231;--1:#80A665">loss</span><span style="--0:#393A34;--1:#DBD7CACC">    </span><span style="--0:#96574A;--1:#C98A7D">=</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">loss_line[/</span><span style="--0:#686868;--1:#838383">(</span><span style="--0:#4B7231;--1:#80A665">\d+</span><span style="--0:#686868;--1:#838383">)</span><span style="--0:#96574A;--1:#C98A7D">%</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">packet</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">loss/,</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">1]</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">rescue</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574AFD;--1:#C98A7DD9">'</span><span style="--0:#96574A;--1:#C98A7D">N/A</span><span style="--0:#96574AFD;--1:#C98A7DD9">'</span></div></div><div class="ec-line" style="--ecIndent:14ch"><div class="gutter"><div class="ln" aria-hidden="true">30</div></div><div class="code"><span class="indent">              </span><span style="--0:#4B7231;--1:#80A665">^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">31</div></div><div class="code"><span style="--0:#4B7231;--1:#80A665">/home/REDACTED/bin/network_monitor_stdout.rb:22:15:</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">C:</span><span style="--0:#393A34;--1:#DBD7CACC"> [Correctable] Style/RescueModifier: Avoid using rescue in its modifier form.</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">32</div></div><div class="code"><span class="indent">    </span><span style="--0:#4B7231;--1:#80A665">avg_rtt</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">=</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">rtt_line[/=</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">.</span><span style="--0:#995728;--1:#C99076">*</span><span style="--0:#995728;--1:#C99076">\/</span><span style="--0:#686868;--1:#838383">([</span><span style="--0:#995728;--1:#C99076">\d\.</span><span style="--0:#686868;--1:#838383">]</span><span style="--0:#393A34;--1:#DBD7CACC">+</span><span style="--0:#686868;--1:#838383">)</span><span style="--0:#995728;--1:#C99076">\/</span><span style="--0:#96574A;--1:#C98A7D">.</span><span style="--0:#995728;--1:#C99076">*</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">ms/,</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">1]</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">rescue</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574AFD;--1:#C98A7DD9">'</span><span style="--0:#96574A;--1:#C98A7D">N/A</span><span style="--0:#96574AFD;--1:#C98A7DD9">'</span></div></div><div class="ec-line" style="--ecIndent:14ch"><div class="gutter"><div class="ln" aria-hidden="true">33</div></div><div class="code"><span class="indent">              </span><span style="--0:#4B7231;--1:#80A665">^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">34</div></div><div class="code"><span style="--0:#4B7231;--1:#80A665">/home/REDACTED/bin/network_monitor_stdout.rb:22:24:</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">C:</span><span style="--0:#393A34;--1:#DBD7CACC"> [Correctable] Style/RegexpLiteral: Use %r around regular expression.</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">35</div></div><div class="code"><span class="indent">    </span><span style="--0:#4B7231;--1:#80A665">avg_rtt</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">=</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">rtt_line[/=</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">.</span><span style="--0:#995728;--1:#C99076">*</span><span style="--0:#995728;--1:#C99076">\/</span><span style="--0:#686868;--1:#838383">([</span><span style="--0:#995728;--1:#C99076">\d\.</span><span style="--0:#686868;--1:#838383">]</span><span style="--0:#393A34;--1:#DBD7CACC">+</span><span style="--0:#686868;--1:#838383">)</span><span style="--0:#995728;--1:#C99076">\/</span><span style="--0:#96574A;--1:#C98A7D">.</span><span style="--0:#995728;--1:#C99076">*</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">ms/,</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">1]</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">rescue</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574AFD;--1:#C98A7DD9">'</span><span style="--0:#96574A;--1:#C98A7D">N/A</span><span style="--0:#96574AFD;--1:#C98A7DD9">'</span></div></div><div class="ec-line" style="--ecIndent:23ch"><div class="gutter"><div class="ln" aria-hidden="true">36</div></div><div class="code"><span class="indent">                       </span><span style="--0:#4B7231;--1:#80A665">^^^^^^^^^^^^^^^^^^^^^^^^</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">37</div></div><div class="code"><span style="--0:#4B7231;--1:#80A665">/home/REDACTED/bin/network_monitor_stdout.rb:22:35:</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">C:</span><span style="--0:#393A34;--1:#DBD7CACC"> [Correctable] Style/RedundantRegexpEscape: Redundant escape inside regexp literal</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">38</div></div><div class="code"><span class="indent">    </span><span style="--0:#4B7231;--1:#80A665">avg_rtt</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">=</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">rtt_line[/=</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">.</span><span style="--0:#995728;--1:#C99076">*</span><span style="--0:#995728;--1:#C99076">\/</span><span style="--0:#686868;--1:#838383">([</span><span style="--0:#995728;--1:#C99076">\d\.</span><span style="--0:#686868;--1:#838383">]</span><span style="--0:#393A34;--1:#DBD7CACC">+</span><span style="--0:#686868;--1:#838383">)</span><span style="--0:#995728;--1:#C99076">\/</span><span style="--0:#96574A;--1:#C98A7D">.</span><span style="--0:#995728;--1:#C99076">*</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">ms/,</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">1]</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">rescue</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574AFD;--1:#C98A7DD9">'</span><span style="--0:#96574A;--1:#C98A7D">N/A</span><span style="--0:#96574AFD;--1:#C98A7DD9">'</span></div></div><div class="ec-line" style="--ecIndent:34ch"><div class="gutter"><div class="ln" aria-hidden="true">39</div></div><div class="code"><span class="indent">                                  </span><span style="--0:#4B7231;--1:#80A665">^^</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">40</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">41</div></div><div class="code"><span style="--0:#4B7231;--1:#80A665">1</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">file</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">inspected,</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#2C7181;--1:#4C9A91">8</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">offenses</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">detected,</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#2C7181;--1:#4C9A91">7</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">offenses</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574A;--1:#C98A7D">autocorrectable</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code=" rubocop --debug ~/bin/network_monitor_stdout.rbFor /home/REDACTED/Sites/RailsStaticSite: configuration from /home/REDACTED/Sites/RailsStaticSite/.rubocop.ymlInheriting configuration from /home/REDACTED/.local/share/mise/installs/ruby/3.4.7/lib/ruby/gems/3.4.0/gems/rubocop-rails-omakase-1.1.0/rubocop.ymlDefault configuration from /home/REDACTED/.local/share/mise/installs/ruby/3.4.7/lib/ruby/gems/3.4.0/gems/rubocop-1.81.6/config/default.ymlPlugin configuration from /home/REDACTED/.local/share/mise/installs/ruby/3.4.7/lib/ruby/gems/3.4.0/gems/rubocop-performance-1.26.1/config/default.ymlPlugin configuration from /home/REDACTED/.local/share/mise/installs/ruby/3.4.7/lib/ruby/gems/3.4.0/gems/rubocop-rails-2.33.4/config/default.ymlUse parallel by default.Skipping parallel inspection: only a single file needs inspectionInspecting 1 fileScanning /home/REDACTED/bin/network_monitor_stdout.rbFor /home/REDACTED/bin: Loading cache from /home/REDACTED/.cache/rubocop_cache/da3bdb6e00ee310b59080212470ead3a8f82caa5/6d7a3b621ca1730e04accd938619e4bdab66cfb1/ede911c576c302bc8d0b8b516aed584aca15e98fCOffenses:/home/REDACTED/bin/network_monitor_stdout.rb:1:1: C: [Correctable] Style/FrozenStringLiteralComment: Missing frozen string literal comment.^/home/REDACTED/bin/network_monitor_stdout.rb:6:12: C: [Correctable] Style/MutableConstant: Freeze mutable objects assigned to constants.HOST     = &#x27;8.8.8.8&#x27;   # Destination to ping (IP or hostname)           ^^^^^^^^^/home/REDACTED/bin/network_monitor_stdout.rb:11:1: C: Metrics/MethodLength: Method has too many lines. [11/10]def ping_host(host, count) ...^^^^^^^^^^^^^^^^^^^^^^^^^^/home/REDACTED/bin/network_monitor_stdout.rb:19:46: C: [Correctable] Style/RegexpLiteral: Use %r around regular expression.    rtt_line  = stdout.lines.find { |l| l =~ /rtt min\/avg\/max\/mdev/ }                                             ^^^^^^^^^^^^^^^^^^^^^^^^^/home/REDACTED/bin/network_monitor_stdout.rb:21:15: C: [Correctable] Style/RescueModifier: Avoid using rescue in its modifier form.    loss    = loss_line[/(\d+)% packet loss/, 1] rescue &#x27;N/A&#x27;              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^/home/REDACTED/bin/network_monitor_stdout.rb:22:15: C: [Correctable] Style/RescueModifier: Avoid using rescue in its modifier form.    avg_rtt = rtt_line[/= .*\/([\d\.]+)\/.* ms/, 1] rescue &#x27;N/A&#x27;              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^/home/REDACTED/bin/network_monitor_stdout.rb:22:24: C: [Correctable] Style/RegexpLiteral: Use %r around regular expression.    avg_rtt = rtt_line[/= .*\/([\d\.]+)\/.* ms/, 1] rescue &#x27;N/A&#x27;                       ^^^^^^^^^^^^^^^^^^^^^^^^/home/REDACTED/bin/network_monitor_stdout.rb:22:35: C: [Correctable] Style/RedundantRegexpEscape: Redundant escape inside regexp literal    avg_rtt = rtt_line[/= .*\/([\d\.]+)\/.* ms/, 1] rescue &#x27;N/A&#x27;                                  ^^1 file inspected, 8 offenses detected, 7 offenses autocorrectable"><div></div></button></div></figure></div><p>And here is the autocorrected script (using <code>rubocop --autocorrect ~/bin/network_monitor_stdout.rb</code>):</p><div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="ruby" class="wrap" style="--ecMaxLine:92ch"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#636B63;--1:#778777FE">#!/usr/bin/env ruby</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span style="--0:#636B63;--1:#778777FE"># frozen_string_literal: true</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span style="--0:#1E754F;--1:#4D9375">require</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574AFD;--1:#C98A7DD9">'</span><span style="--0:#96574A;--1:#C98A7D">open3</span><span style="--0:#96574AFD;--1:#C98A7DD9">'</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span style="--0:#1E754F;--1:#4D9375">require</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574AFD;--1:#C98A7DD9">'</span><span style="--0:#96574A;--1:#C98A7D">time</span><span style="--0:#96574AFD;--1:#C98A7DD9">'</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span style="--0:#636B63;--1:#778777FE"># ------------------- Configuration -------------------</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span style="--0:#876037;--1:#BD976A">HOST</span><span style="--0:#393A34;--1:#DBD7CACC">     </span><span style="--0:#686868;--1:#838383">=</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574AFD;--1:#C98A7DD9">'</span><span style="--0:#96574A;--1:#C98A7D">8.8.8.8</span><span style="--0:#96574AFD;--1:#C98A7DD9">'</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#636B63;--1:#778777FE"># Destination to ping (IP or hostname)</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span style="--0:#876037;--1:#BD976A">INTERVAL</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#686868;--1:#838383">=</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#2C7181;--1:#4C9A91">60</span><span style="--0:#393A34;--1:#DBD7CACC">          </span><span style="--0:#636B63;--1:#778777FE"># Seconds between each ping</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">10</div></div><div class="code"><span style="--0:#876037;--1:#BD976A">COUNT</span><span style="--0:#393A34;--1:#DBD7CACC">    </span><span style="--0:#686868;--1:#838383">=</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#2C7181;--1:#4C9A91">4</span><span style="--0:#393A34;--1:#DBD7CACC">           </span><span style="--0:#636B63;--1:#778777FE"># Number of ICMP packets per test</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">11</div></div><div class="code"><span style="--0:#636B63;--1:#778777FE"># -----------------------------------------------------</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">12</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">13</div></div><div class="code"><span style="--0:#1E754F;--1:#4D9375">def</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#4B7231;--1:#80A665">ping_host</span><span style="--0:#686868;--1:#838383">(</span><span style="--0:#393A34;--1:#DBD7CACC">host</span><span style="--0:#686868;--1:#838383">,</span><span style="--0:#393A34;--1:#DBD7CACC"> count</span><span style="--0:#686868;--1:#838383">)</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">14</div></div><div class="code"><span class="indent">  </span><span style="--0:#636B63;--1:#778777FE"># Run the system ping command and capture its output</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">15</div></div><div class="code"><span class="indent">  </span><span style="--0:#876037;--1:#BD976A">cmd</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#686868;--1:#838383">=</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574AFD;--1:#C98A7DD9">"</span><span style="--0:#96574A;--1:#C98A7D">ping -c </span><span style="--0:#686868;--1:#838383">#{</span><span style="--0:#96574A;--1:#C98A7D">count</span><span style="--0:#686868;--1:#838383">}</span><span style="--0:#96574A;--1:#C98A7D"> </span><span style="--0:#686868;--1:#838383">#{</span><span style="--0:#96574A;--1:#C98A7D">host</span><span style="--0:#686868;--1:#838383">}</span><span style="--0:#96574AFD;--1:#C98A7DD9">"</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">16</div></div><div class="code"><span class="indent"><span style="--0:#393A34;--1:#DBD7CACC">  </span></span><span style="--0:#393A34;--1:#DBD7CACC">stdout</span><span style="--0:#686868;--1:#838383">,</span><span style="--0:#393A34;--1:#DBD7CACC"> stderr</span><span style="--0:#686868;--1:#838383">,</span><span style="--0:#393A34;--1:#DBD7CACC"> status </span><span style="--0:#686868;--1:#838383">=</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#786713;--1:#B8A965">Open3</span><span style="--0:#686868;--1:#838383">.</span><span style="--0:#4B7231;--1:#80A665">capture3</span><span style="--0:#686868;--1:#838383">(</span><span style="--0:#393A34;--1:#DBD7CACC">cmd</span><span style="--0:#686868;--1:#838383">)</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">17</div></div><div class="code">
</div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">18</div></div><div class="code"><span class="indent">  </span><span style="--0:#1E754F;--1:#4D9375">if</span><span style="--0:#393A34;--1:#DBD7CACC"> status</span><span style="--0:#686868;--1:#838383">.</span><span style="--0:#4B7231;--1:#80A665">success?</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">19</div></div><div class="code"><span class="indent">    </span><span style="--0:#636B63;--1:#778777FE"># Pull packet‑loss % and average RTT from ping output</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">20</div></div><div class="code"><span class="indent">    </span><span style="--0:#876037;--1:#BD976A">loss_line</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#686868;--1:#838383">=</span><span style="--0:#393A34;--1:#DBD7CACC"> stdout</span><span style="--0:#686868;--1:#838383">.</span><span style="--0:#4B7231;--1:#80A665">lines</span><span style="--0:#686868;--1:#838383">.</span><span style="--0:#4B7231;--1:#80A665">find</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#686868;--1:#838383">{</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#686868;--1:#838383">|</span><span style="--0:#876037;--1:#BD976A">l</span><span style="--0:#686868;--1:#838383">|</span><span style="--0:#393A34;--1:#DBD7CACC"> l </span><span style="--0:#9E5252;--1:#CB7676">=~</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#686868;--1:#838383">/</span><span style="--0:#9B5539;--1:#C4704F">packet loss</span><span style="--0:#686868;--1:#838383">/</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#686868;--1:#838383">}</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">21</div></div><div class="code"><span class="indent">    </span><span style="--0:#876037;--1:#BD976A">rtt_line</span><span style="--0:#393A34;--1:#DBD7CACC">  </span><span style="--0:#686868;--1:#838383">=</span><span style="--0:#393A34;--1:#DBD7CACC"> stdout</span><span style="--0:#686868;--1:#838383">.</span><span style="--0:#4B7231;--1:#80A665">lines</span><span style="--0:#686868;--1:#838383">.</span><span style="--0:#4B7231;--1:#80A665">find</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#686868;--1:#838383">{</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#686868;--1:#838383">|</span><span style="--0:#876037;--1:#BD976A">l</span><span style="--0:#686868;--1:#838383">|</span><span style="--0:#393A34;--1:#DBD7CACC"> l </span><span style="--0:#9E5252;--1:#CB7676">=~</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#686868;--1:#838383">%r{</span><span style="--0:#9B5539;--1:#C4704F">rtt min/avg/max/mdev</span><span style="--0:#686868;--1:#838383">}</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#686868;--1:#838383">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">22</div></div><div class="code">
</div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">23</div></div><div class="code"><span class="indent">    </span><span style="--0:#876037;--1:#BD976A">loss</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#686868;--1:#838383">=</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#1E754F;--1:#4D9375">begin</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">24</div></div><div class="code"><span class="indent"><span style="--0:#393A34;--1:#DBD7CACC">      </span></span><span style="--0:#393A34;--1:#DBD7CACC">loss_line</span><span style="--0:#686868;--1:#838383">[</span><span style="--0:#686868;--1:#838383">/(</span><span style="--0:#786823;--1:#E6CC77">\d</span><span style="--0:#9B5539;--1:#C4704F">+</span><span style="--0:#686868;--1:#838383">)</span><span style="--0:#9B5539;--1:#C4704F">% packet loss</span><span style="--0:#686868;--1:#838383">/</span><span style="--0:#686868;--1:#838383">,</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#2C7181;--1:#4C9A91">1</span><span style="--0:#686868;--1:#838383">]</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">25</div></div><div class="code"><span class="indent">    </span><span style="--0:#1E754F;--1:#4D9375">rescue</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#876037;--1:#BD976A">StandardError</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">26</div></div><div class="code"><span class="indent">      </span><span style="--0:#96574AFD;--1:#C98A7DD9">'</span><span style="--0:#96574A;--1:#C98A7D">N/A</span><span style="--0:#96574AFD;--1:#C98A7DD9">'</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">27</div></div><div class="code"><span class="indent">    </span><span style="--0:#1E754F;--1:#4D9375">end</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">28</div></div><div class="code"><span class="indent">    </span><span style="--0:#876037;--1:#BD976A">avg_rtt</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#686868;--1:#838383">=</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#1E754F;--1:#4D9375">begin</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">29</div></div><div class="code"><span class="indent"><span style="--0:#393A34;--1:#DBD7CACC">      </span></span><span style="--0:#393A34;--1:#DBD7CACC">rtt_line</span><span style="--0:#686868;--1:#838383">[</span><span style="--0:#686868;--1:#838383">%r{</span><span style="--0:#9B5539;--1:#C4704F">= .*/</span><span style="--0:#686868;--1:#838383">([</span><span style="--0:#786823;--1:#E6CC77">\d</span><span style="--0:#96574A;--1:#C98A7D">.</span><span style="--0:#686868;--1:#838383">]</span><span style="--0:#9B5539;--1:#C4704F">+</span><span style="--0:#686868;--1:#838383">)</span><span style="--0:#9B5539;--1:#C4704F">/.* ms</span><span style="--0:#686868;--1:#838383">}</span><span style="--0:#686868;--1:#838383">,</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#2C7181;--1:#4C9A91">1</span><span style="--0:#686868;--1:#838383">]</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">30</div></div><div class="code"><span class="indent">    </span><span style="--0:#1E754F;--1:#4D9375">rescue</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#876037;--1:#BD976A">StandardError</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">31</div></div><div class="code"><span class="indent">      </span><span style="--0:#96574AFD;--1:#C98A7DD9">'</span><span style="--0:#96574A;--1:#C98A7D">N/A</span><span style="--0:#96574AFD;--1:#C98A7DD9">'</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">32</div></div><div class="code"><span class="indent">    </span><span style="--0:#1E754F;--1:#4D9375">end</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">33</div></div><div class="code">
</div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">34</div></div><div class="code"><span class="indent">    </span><span style="--0:#686868;--1:#838383">{</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#1E754F;--1:#4D9375">success</span><span style="--0:#686868;--1:#838383">:</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#1E754F;--1:#4D9375">true</span><span style="--0:#686868;--1:#838383">,</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#1E754F;--1:#4D9375">loss</span><span style="--0:#686868;--1:#838383">:</span><span style="--0:#393A34;--1:#DBD7CACC"> loss</span><span style="--0:#686868;--1:#838383">,</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#1E754F;--1:#4D9375">avg_rtt</span><span style="--0:#686868;--1:#838383">:</span><span style="--0:#393A34;--1:#DBD7CACC"> avg_rtt </span><span style="--0:#686868;--1:#838383">}</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">35</div></div><div class="code"><span class="indent">  </span><span style="--0:#1E754F;--1:#4D9375">else</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">36</div></div><div class="code"><span class="indent">    </span><span style="--0:#686868;--1:#838383">{</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#1E754F;--1:#4D9375">success</span><span style="--0:#686868;--1:#838383">:</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#1E754F;--1:#4D9375">false</span><span style="--0:#686868;--1:#838383">,</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#1E754F;--1:#4D9375">error</span><span style="--0:#686868;--1:#838383">:</span><span style="--0:#393A34;--1:#DBD7CACC"> stderr</span><span style="--0:#686868;--1:#838383">.</span><span style="--0:#4B7231;--1:#80A665">strip</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#686868;--1:#838383">}</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">37</div></div><div class="code"><span class="indent">  </span><span style="--0:#1E754F;--1:#4D9375">end</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">38</div></div><div class="code"><span style="--0:#1E754F;--1:#4D9375">end</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">39</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">40</div></div><div class="code"><span style="--0:#1E754F;--1:#4D9375">def</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#4B7231;--1:#80A665">display_result</span><span style="--0:#686868;--1:#838383">(</span><span style="--0:#393A34;--1:#DBD7CACC">result</span><span style="--0:#686868;--1:#838383">)</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">41</div></div><div class="code"><span class="indent">  </span><span style="--0:#876037;--1:#BD976A">timestamp</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#686868;--1:#838383">=</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#786713;--1:#B8A965">Time</span><span style="--0:#686868;--1:#838383">.</span><span style="--0:#4B7231;--1:#80A665">now</span><span style="--0:#686868;--1:#838383">.</span><span style="--0:#4B7231;--1:#80A665">utc</span><span style="--0:#686868;--1:#838383">.</span><span style="--0:#4B7231;--1:#80A665">iso8601</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">42</div></div><div class="code"><span class="indent">  </span><span style="--0:#1E754F;--1:#4D9375">if</span><span style="--0:#393A34;--1:#DBD7CACC"> result</span><span style="--0:#686868;--1:#838383">[:</span><span style="--0:#1E754F;--1:#4D9375">success</span><span style="--0:#686868;--1:#838383">]</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">43</div></div><div class="code"><span class="indent">    </span><span style="--0:#786713;--1:#B8A965">puts</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574AFD;--1:#C98A7DD9">"</span><span style="--0:#96574A;--1:#C98A7D">[</span><span style="--0:#686868;--1:#838383">#{</span><span style="--0:#96574A;--1:#C98A7D">timestamp</span><span style="--0:#686868;--1:#838383">}</span><span style="--0:#96574A;--1:#C98A7D">] SUCCESS – Loss: </span><span style="--0:#686868;--1:#838383">#{</span><span style="--0:#96574A;--1:#C98A7D">result</span><span style="--0:#686868;--1:#838383">[:</span><span style="--0:#1E754F;--1:#4D9375">loss</span><span style="--0:#686868;--1:#838383">]}</span><span style="--0:#96574A;--1:#C98A7D">%, Avg RTT: </span><span style="--0:#686868;--1:#838383">#{</span><span style="--0:#96574A;--1:#C98A7D">result</span><span style="--0:#686868;--1:#838383">[:</span><span style="--0:#1E754F;--1:#4D9375">avg_rtt</span><span style="--0:#686868;--1:#838383">]}</span><span style="--0:#96574A;--1:#C98A7D"> ms</span><span style="--0:#96574AFD;--1:#C98A7DD9">"</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">44</div></div><div class="code"><span class="indent">  </span><span style="--0:#1E754F;--1:#4D9375">else</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">45</div></div><div class="code"><span class="indent">    </span><span style="--0:#786713;--1:#B8A965">puts</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#96574AFD;--1:#C98A7DD9">"</span><span style="--0:#96574A;--1:#C98A7D">[</span><span style="--0:#686868;--1:#838383">#{</span><span style="--0:#96574A;--1:#C98A7D">timestamp</span><span style="--0:#686868;--1:#838383">}</span><span style="--0:#96574A;--1:#C98A7D">] FAILURE – Error: </span><span style="--0:#686868;--1:#838383">#{</span><span style="--0:#96574A;--1:#C98A7D">result</span><span style="--0:#686868;--1:#838383">[:</span><span style="--0:#1E754F;--1:#4D9375">error</span><span style="--0:#686868;--1:#838383">]}</span><span style="--0:#96574AFD;--1:#C98A7DD9">"</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">46</div></div><div class="code"><span class="indent">  </span><span style="--0:#1E754F;--1:#4D9375">end</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">47</div></div><div class="code"><span style="--0:#1E754F;--1:#4D9375">end</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">48</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">49</div></div><div class="code"><span style="--0:#636B63;--1:#778777FE"># ------------------- Main Loop -------------------</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">50</div></div><div class="code"><span style="--0:#1E754F;--1:#4D9375">loop</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#1E754F;--1:#4D9375">do</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">51</div></div><div class="code"><span class="indent">  </span><span style="--0:#876037;--1:#BD976A">result</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#686868;--1:#838383">=</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#4B7231;--1:#80A665">ping_host</span><span style="--0:#686868;--1:#838383">(</span><span style="--0:#876037;--1:#BD976A">HOST</span><span style="--0:#686868;--1:#838383">,</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#876037;--1:#BD976A">COUNT</span><span style="--0:#686868;--1:#838383">)</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">52</div></div><div class="code"><span class="indent">  </span><span style="--0:#4B7231;--1:#80A665">display_result</span><span style="--0:#686868;--1:#838383">(</span><span style="--0:#393A34;--1:#DBD7CACC">result</span><span style="--0:#686868;--1:#838383">)</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">53</div></div><div class="code"><span class="indent">  </span><span style="--0:#786713;--1:#B8A965">sleep</span><span style="--0:#393A34;--1:#DBD7CACC"> </span><span style="--0:#876037;--1:#BD976A">INTERVAL</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">54</div></div><div class="code"><span style="--0:#1E754F;--1:#4D9375">end</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">55</div></div><div class="code"><span style="--0:#636B63;--1:#778777FE"># -------------------------------------------------</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="#!/usr/bin/env ruby# frozen_string_literal: truerequire &#x27;open3&#x27;require &#x27;time&#x27;# ------------------- Configuration -------------------HOST     = &#x27;8.8.8.8&#x27; # Destination to ping (IP or hostname)INTERVAL = 60          # Seconds between each pingCOUNT    = 4           # Number of ICMP packets per test# -----------------------------------------------------def ping_host(host, count)  # Run the system ping command and capture its output  cmd = &#x22;ping -c #{count} #{host}&#x22;  stdout, stderr, status = Open3.capture3(cmd)  if status.success?    # Pull packet‑loss % and average RTT from ping output    loss_line = stdout.lines.find { |l| l =~ /packet loss/ }    rtt_line  = stdout.lines.find { |l| l =~ %r{rtt min/avg/max/mdev} }    loss = begin      loss_line[/(\d+)% packet loss/, 1]    rescue StandardError      &#x27;N/A&#x27;    end    avg_rtt = begin      rtt_line[%r{= .*/([\d.]+)/.* ms}, 1]    rescue StandardError      &#x27;N/A&#x27;    end    { success: true, loss: loss, avg_rtt: avg_rtt }  else    { success: false, error: stderr.strip }  endenddef display_result(result)  timestamp = Time.now.utc.iso8601  if result[:success]    puts &#x22;[#{timestamp}] SUCCESS – Loss: #{result[:loss]}%, Avg RTT: #{result[:avg_rtt]} ms&#x22;  else    puts &#x22;[#{timestamp}] FAILURE – Error: #{result[:error]}&#x22;  endend# ------------------- Main Loop -------------------loop do  result = ping_host(HOST, COUNT)  display_result(result)  sleep INTERVALend# -------------------------------------------------"><div></div></button></div></figure></div><p>The output is the same…</p></section>
<section><h2 id="conclusions">Conclusions</h2><p>Lumo’s code is certainly acceptable, but geeze, all I wanted was a ping loop. I know which version will be easier to understand 6 months from now.</p></section>
<section><h2 id="notes">Notes</h2></section>
<section data-footnotes="" class="footnotes"><h2 class="sr-only" id="footnote-label">Footnotes</h2>
<ol>
<li id="user-content-fn-1">
<p>FM = F*****g Magic <a href="#user-content-fnref-1" data-footnote-backref="" aria-label="Back to reference 1" class="data-footnote-backref">↩</a></p>
</li>
</ol>
</section> </article>  <script data-astro-rerun>
  function setupHeadingAnchors() {
    const headings = Array.from(document.querySelectorAll('h2, h3, h4, h5, h6'))
    for (const heading of headings) {
      if (heading.classList.contains('no-anchor')) continue
      heading.classList.add('group')
      const link = document.createElement('a')
      link.innerText = '#'
      link.className =
        'heading-link hidden group-hover:inline-block ml-3 no-underline'
      link.href = '#' + heading.id
      link.ariaHidden = 'true'
      heading.appendChild(link)
    }
  }

  setupHeadingAnchors()
</script>   </div>  </main> <div class="mb-2 flex grow flex-col justify-end"> <div class="my-4 grid grid-cols-5"> <div class="col-span-5 flex flex-col items-start sm:col-span-2">  </div> <div class="col-span-5 mt-8 flex flex-col items-end sm:col-span-2 sm:col-start-4 sm:mt-0"> <a href="/posts/musings-on-the-no-kings-rally/" class="clickable"> <div class="flex items-center justify-end gap-1"> <span>Previous post</span> <span class="iconify tabler--arrow-right text-xl"></span> </div> <span class="mt-2 text-lg underline sm:text-xl"> Musings On The No Kings Rally </span> </a> </div> </div> </div> <footer class="mt-auto"> <hr class="border-separate border-accent/75 undefined"> <div class="flex items-center justify-between gap-2 py-4 text-2xl sm:py-8"> <span class="text-base">&#169; 2009 - 2025 Christopher W Lehman</span> <div class="grow"></div> <a class="flex flex-col justify-center" href="https://github.com/thecwlzone/thecwlzone-4.0" target="_blank" aria-label="Github" rel="noopener noreferrer"> <span title="Github" class="iconify clickable tabler--brand-github"></span> </a><a class="flex flex-col justify-center" href="/feed.xml" target="_self" aria-label="RSS feed" rel="noopener noreferrer"> <span title="RSS feed" class="iconify clickable tabler--rss"></span> </a> </div> </footer> </div> <scroll-progress-bar class="fixed top-0 w-full"> <div class="bg-accent h-1 w-0"></div> </scroll-progress-bar> <script type="module">class o extends HTMLElement{connectedCallback(){const t=this.children[0];function c(){const e=document.body.scrollTop||document.documentElement.scrollTop,l=document.documentElement.scrollHeight-document.documentElement.clientHeight;return e/l*100}document.addEventListener("scroll",()=>{const e=c();t.style.width=`${e}%`})}}customElements.get("scroll-progress-bar")||customElements.define("scroll-progress-bar",o);</script><scroll-top-button class="fixed! right-4 bottom-4 z-10 hidden pr-2 sm:right-8 sm:bottom-8 lg:right-16 lg:bottom-16"> <button class="clickable flex items-center gap-2" title="Scroll to top" aria-label="Scroll to top"> <span aria-hidden="true" class="iconify tabler--arrow-up text-4xl"></span> </button> </scroll-top-button> <script type="module">class n extends HTMLElement{connectedCallback(){const t=this.querySelector("button");if(!t)return;function e(){const o=document.documentElement.clientHeight;return(document.body.scrollTop||document.documentElement.scrollTop)>o}t.addEventListener("click",()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0}),document.addEventListener("scroll",()=>{e()?this.classList.remove("hidden"):this.classList.add("hidden")})}}customElements.get("scroll-top-button")||customElements.define("scroll-top-button",n);</script> <script data-astro-rerun>
  function setupCodeBlockIcons() {
    const iconMap = {
      'angular-html': 'tabler--brand-angular',
      'angular-ts': 'tabler--brand-angular',
      astro: 'tabler--brand-astro',
      cpp: 'tabler--brand-cpp',
      csharp: 'tabler--brand-c-sharp',
      cs: 'tabler--brand-c-sharp',
      css: 'tabler--brand-css3',
      csv: 'tabler--csv',
      diff: 'tabler--file-diff',
      docker: 'tabler--brand-docker',
      dockerfile: 'tabler--brand-docker',
      go: 'tabler--brand-golang',
      graphql: 'tabler--brand-graphql',
      gql: 'tabler--brand-graphql',
      html: 'tabler--brand-html5',
      javascript: 'tabler--brand-javascript',
      js: 'tabler--brand-javascript',
      json: 'tabler--json',
      jsonc: 'tabler--json',
      jsx: 'tabler--brand-react',
      kotlin: 'tabler--brand-kotlin',
      kt: 'tabler--brand-kotlin',
      kts: 'tabler--brand-kotlin',
      markdown: 'tabler--markdown',
      md: 'tabler--markdown',
      mdx: 'tabler--markdown',
      php: 'tabler--brand-php',
      powershell: 'tabler--brand-powershell',
      ps: 'tabler--brand-powershell',
      ps1: 'tabler--brand-powershell',
      python: 'tabler--brand-python',
      py: 'tabler--brand-python',
      rust: 'tabler--brand-rust',
      rs: 'tabler--brand-rust',
      sass: 'tabler--brand-sass',
      shellscript: 'tabler--terminal',
      bash: 'tabler--terminal',
      sh: 'tabler--terminal',
      shell: 'tabler--terminal',
      zsh: 'tabler--terminal',
      sql: 'tabler--sql',
      svelte: 'tabler--brand-svelte',
      swift: 'tabler--brand-swift',
      tsx: 'tabler--brand-typescript',
      typescript: 'tabler--brand-typescript',
      ts: 'tabler--brand-typescript',
      vue: 'tabler--brand-vue',
      'vue-html': 'tabler--brand-vue',
      xml: 'tabler--file-type-xml'
    }

    document
      .querySelectorAll('.expressive-code')
      .forEach((expressiveCodeBlock) => {
        expressiveCodeBlock
          .querySelectorAll('figure.has-title > pre[data-language]')
          .forEach((codeBlock) => {
            const language = codeBlock.getAttribute('data-language') || ''

            if (!Object.prototype.hasOwnProperty.call(iconMap, language)) return

            const languageIcon = iconMap[language]

            const wrapperDiv = document.createElement('div')
            wrapperDiv.classList.add('relative')
            const iconSpan = document.createElement('span')
            iconSpan.classList.add(
              'iconify',
              languageIcon,
              'text-2xl',
              'absolute',
              'top-[6px]',
              'right-[6px]',
              'z-1',
              'opacity-75'
            )

            expressiveCodeBlock.replaceWith(wrapperDiv)

            wrapperDiv.appendChild(expressiveCodeBlock)
            wrapperDiv.appendChild(iconSpan)
          })
      })
  }

  setupCodeBlockIcons()
</script> <script type="module" src="/_astro/MediumZoomPlugin.astro_astro_type_script_index_0_lang.Rz_fyBje.js"></script>  </body></html>